syntax = "proto3";

package top.criwits.scaleda.kernel.net;

service Remote {
  rpc run(RunRequest) returns (stream RunReply) {}
}

message triple {
  string a = 1;
  string b = 2;
}

message RunRequest {
  string command = 1;
  string path = 2;
  repeated triple envs = 3;
}

enum RunReplyType {
  RETURN = 0;
  STDOUT = 1;
  STDERR = 2;
}

message RunReply {
  RunReplyType replyType = 1;
  string strValue = 2;
  int32 intValue = 3;
}